{"identifier":{"url":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners","interfaceLanguage":"swift"},"kind":"project","hierarchy":{"modules":[{"projects":[{"sections":[{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateProject#Create-project-using-Xcode","kind":"task"}],"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateProject"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene","sections":[{"kind":"task","reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Intro"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Create-an-app","kind":"task"},{"kind":"task","reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Create-a-main-camera"},{"kind":"task","reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#First-sprite"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Make-it-move","kind":"task"}]},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/PlayerAndText","sections":[{"kind":"task","reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/PlayerAndText#Add-Player-component"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/PlayerAndText#Add-Text-component","kind":"task"}]},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners","sections":[{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Base-of-Event-Subscriber-pattern","kind":"task"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Subscribe-to-scene-events","kind":"task"},{"kind":"task","reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Type-of-events"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Additional-for-physics","kind":"task"}]}],"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/Create-your-first-2D-game-project."}],"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine","paths":[["doc:\/\/AdaEngine\/tutorials\/AdaEngine","doc:\/\/AdaEngine\/tutorials\/AdaEngine\/$volume","doc:\/\/AdaEngine\/tutorials\/AdaEngine\/Create-your-first-2D-game-project."]]},"metadata":{"title":"Event Listeners in Ada Engine","role":"project","category":"Ada Engine","categoryPathComponent":"AdaEngine"},"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[{"title":"Event Listeners in Ada Engine","kind":"hero","chapter":"Create your first 2D game project.","estimatedTimeInMinutes":5,"content":[{"inlineContent":[{"text":"In this tutorial you will learn about the event listeners system in Ada Engine.","type":"text"},{"type":"text","text":" "},{"text":"How can you catch events and process them","type":"text"}],"type":"paragraph"}]},{"tasks":[{"contentSection":[{"kind":"contentAndMedia","content":[{"inlineContent":[{"type":"text","text":"Event listeners in Ada Engine are built on the Observer pattern."},{"text":" ","type":"text"},{"text":"Its main concept is based on the fact that there is a certain Subject that can send any events.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"And there is an Observer that can receive and process this event."},{"type":"text","text":" "},{"type":"text","text":"In addition, Observer “subscribes” to events, as if you had subscribed to your favorite blog or magazine - as soon as an event occurs, Observer immediately knows about it."}],"type":"paragraph"}],"media":"EL-1.jpg","mediaPosition":"trailing"}],"title":"Base of Event-Subscriber pattern","stepsSection":[],"anchor":"Base-of-Event-Subscriber-pattern"},{"title":"Subscribe to scene events","anchor":"Subscribe-to-scene-events","stepsSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Let’s say we have some kind of game scene in which we would like to listen to some events."}]}],"caption":[],"type":"step","media":null,"runtimePreview":null,"code":"EL-2-1-scene.swift"},{"content":[{"inlineContent":[{"text":"First of all, to control subscription\/unsubscription to events and for proper memory management, we must create a disposeBag.","type":"text"},{"type":"text","text":" "},{"text":"Now you don’t need to know its detailed structure.","type":"text"}],"type":"paragraph"}],"media":null,"caption":[],"code":"EL-2-2-scene.swift","runtimePreview":null,"type":"step"},{"media":null,"code":"EL-2-3-scene.swift","runtimePreview":null,"caption":[],"type":"step","content":[{"inlineContent":[{"text":"After that, in the ","type":"text"},{"type":"codeVoice","code":"Scene\\sceneDidMove(to:)"},{"type":"text","text":" method before the return statement, you can call some code to subscribe to the event."},{"type":"text","text":" "},{"type":"text","text":"The "},{"type":"codeVoice","code":"Scene\\subscribe"},{"type":"text","text":" method helps with this."},{"type":"text","text":" "},{"text":"When an event is triggered, our listener subscribes to it and in the callback we can process our event","type":"text"}],"type":"paragraph"}]}],"contentSection":[{"kind":"contentAndMedia","content":[{"inlineContent":[{"type":"text","text":"Having understood how the Observer pattern works, let’s look at how to subscribe to scene events."}],"type":"paragraph"}],"mediaPosition":"trailing"}]},{"anchor":"Type-of-events","stepsSection":[{"caption":[],"content":[{"type":"paragraph","inlineContent":[{"text":"In the previous section, we saw the SceneEvents.OnReady event.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"AdaEngine has several available events that you can handle."},{"text":" ","type":"text"},{"text":"For example, you can find out what state your current game scene is in.","type":"text"},{"text":" ","type":"text"},{"text":"You can add your own additional logic when any built-in event occurs.","type":"text"}]}],"code":"EL-2-3-scene.swift","media":null,"type":"step","runtimePreview":null},{"type":"step","code":"EL-2-4-events.swift","media":null,"runtimePreview":null,"caption":[],"content":[{"type":"paragraph","inlineContent":[{"text":"Here, as an example, are some built-in events that may be useful to you.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Familiar scene events and new collision events"}]}]}],"title":"Type of events","contentSection":[{"mediaPosition":"trailing","kind":"contentAndMedia","content":[{"inlineContent":[{"type":"text","text":"What events can we use? Let’s look at a couple of code examples in AdaEngine."}],"type":"paragraph"}]}]},{"contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Additional information for handling physics in a game engine."},{"type":"text","text":" "},{"text":"By default, our Scene object has a physicsWorld2D component.","type":"text"},{"type":"text","text":" "},{"text":"With it you can control the physics settings for any objects in our game.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"For example, you can set the gravity to zero for the scene creation event"}]}],"mediaPosition":"trailing"}],"title":"Additional for physics","stepsSection":[{"media":null,"runtimePreview":null,"type":"step","content":[{"type":"paragraph","inlineContent":[{"text":"Let’s continue with the example we looked at earlier.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"We can access our event and assign the necessary parameters to the properties of the physical component"}]}],"code":"EL-2-5-physics.swift","caption":[]}],"anchor":"Additional-for-physics"}],"kind":"tasks"}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/adaengine\/eventlisteners"]}],"references":{"doc://AdaEngine/tutorials/AdaEngine/PlayerAndText":{"url":"\/tutorials\/adaengine\/playerandtext","type":"topic","title":"Player and Text in Ada Engine","role":"project","estimatedTime":"5min","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/PlayerAndText","kind":"project","abstract":[{"type":"text","text":"In this tutorial, you will learn how to add a player component that you can control and how to add text and various labels to your game scene."}]},"doc://AdaEngine/tutorials/AdaEngine/EventListeners":{"url":"\/tutorials\/adaengine\/eventlisteners","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners","abstract":[{"type":"text","text":"In this tutorial you will learn about the event listeners system in Ada Engine."},{"text":" ","type":"text"},{"type":"text","text":"How can you catch events and process them"}],"kind":"project","estimatedTime":"5min","type":"topic","role":"project","title":"Event Listeners in Ada Engine"},"doc://AdaEngine/tutorials/AdaEngine/PlayerAndText#Add-Text-component":{"identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/PlayerAndText#Add-Text-component","role":"pseudoSymbol","kind":"section","abstract":[{"type":"text","text":"In this tutorial, you will learn how to add a player component that you can control and how to add text and various labels to your game scene."}],"type":"section","title":"Add Text component","url":"\/tutorials\/adaengine\/playerandtext#Add-Text-component"},"doc://AdaEngine/tutorials/AdaEngine":{"url":"\/tutorials\/adaengine","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine","abstract":[{"type":"text","text":"Learn the basics of AdaEngine and starts to develop your own games!"}],"kind":"overview","type":"topic","role":"overview","title":"Meet AdaEngine"},"doc://AdaEngine/tutorials/AdaEngine/EventListeners#Base-of-Event-Subscriber-pattern":{"identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Base-of-Event-Subscriber-pattern","role":"pseudoSymbol","kind":"section","abstract":[{"type":"text","text":"In this tutorial you will learn about the event listeners system in Ada Engine."},{"type":"text","text":" "},{"text":"How can you catch events and process them","type":"text"}],"type":"section","title":"Base of Event-Subscriber pattern","url":"\/tutorials\/adaengine\/eventlisteners#Base-of-Event-Subscriber-pattern"},"doc://AdaEngine/tutorials/AdaEngine/CreateProject":{"url":"\/tutorials\/adaengine\/createproject","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateProject","abstract":[{"type":"text","text":"In this tutorial you learn how to create your first AdaEngine project."}],"kind":"project","estimatedTime":"5min","type":"topic","role":"project","title":"Create your first game project"},"doc://AdaEngine/tutorials/AdaEngine/EventListeners#Subscribe-to-scene-events":{"url":"\/tutorials\/adaengine\/eventlisteners#Subscribe-to-scene-events","abstract":[{"text":"In this tutorial you will learn about the event listeners system in Ada Engine.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"How can you catch events and process them"}],"type":"section","role":"pseudoSymbol","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Subscribe-to-scene-events","kind":"section","title":"Subscribe to scene events"},"EL-2-1-scene.swift":{"highlights":[],"identifier":"EL-2-1-scene.swift","fileType":"swift","type":"file","syntax":"swift","content":["import AdaEngine","","class EventListenerScene: Scene {","    override func sceneDidMove(to view: SceneView) {","        ","    }","}",""],"fileName":"EventListenerScene.swift"},"EL-2-4-events.swift":{"highlights":[],"type":"file","fileName":"Events.swift","content":["\/\/\/ Events the scene triggers.","public enum SceneEvents {","    ","    \/\/\/ An event triggered once when scene is ready to use and will starts update soon.","    public struct OnReady: Event {","        public let scene: Scene","    }","    ","    \/\/\/ Raised after an entity is added to the scene.","    public struct DidAddEntity: Event {","        public let entity: Entity","    }","    ","    \/\/\/ Raised before an entity is removed from the scene.","    public struct WillRemoveEntity: Event {","        public let entity: Entity","    }","","    \/\/\/ An event triggered once per frame interval that you can use to execute custom logic for each frame.","    public struct Update: Event {","","        \/\/\/ The updated scene.","        public let scene: Scene","","        \/\/\/ The elapsed time since the last update.","        public let deltaTime: TimeInterval","    }","}","","\/\/\/ Events associated with collisions.","public enum CollisionEvents {","    ","    \/\/\/ An event raised when two objects collide.","    public struct Began: Event {","        ","        \/\/\/ The first entity involved in the collision.","        public let entityA: Entity","        ","        \/\/\/ The second entity involved in the collision.","        public let entityB: Entity","        ","        \/\/\/ The estimated strength of the impact.","        public let impulse: Float","    }","    ","    \/\/\/ An event raised when two objects, previously in contact, separate.","    public struct Ended: Event {","        ","        \/\/\/ The first entity involved in the collision.","        public let entityA: Entity","        ","        \/\/\/ The second entity involved in the collision.","        public let entityB: Entity","    }","}"],"fileType":"swift","identifier":"EL-2-4-events.swift","syntax":"swift"},"doc://AdaEngine/tutorials/AdaEngine/CreateFirst2DScene#Intro":{"url":"\/tutorials\/adaengine\/createfirst2dscene#Intro","abstract":[{"type":"text","text":"In this tutorial you can learn how to create your first 2D scene using AdaEngine"}],"type":"section","role":"pseudoSymbol","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Intro","kind":"section","title":"Intro"},"doc://AdaEngine/tutorials/AdaEngine/CreateProject#Create-project-using-Xcode":{"identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateProject#Create-project-using-Xcode","role":"pseudoSymbol","kind":"section","abstract":[{"type":"text","text":"In this tutorial you learn how to create your first AdaEngine project."}],"type":"section","title":"Create project using Xcode.","url":"\/tutorials\/adaengine\/createproject#Create-project-using-Xcode"},"doc://AdaEngine/tutorials/AdaEngine/CreateFirst2DScene#Make-it-move":{"url":"\/tutorials\/adaengine\/createfirst2dscene#Make-it-move","abstract":[{"type":"text","text":"In this tutorial you can learn how to create your first 2D scene using AdaEngine"}],"type":"section","role":"pseudoSymbol","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Make-it-move","kind":"section","title":"Make it move"},"EL-1.jpg":{"alt":"Observer pattern scheme","variants":[{"traits":["1x","light"],"url":"\/images\/EL-1.jpg"}],"identifier":"EL-1.jpg","type":"image"},"doc://AdaEngine/tutorials/AdaEngine/Create-your-first-2D-game-project.":{"identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/Create-your-first-2D-game-project.","role":"article","kind":"article","abstract":[],"type":"topic","title":"Create your first 2D game project.","url":"\/tutorials\/adaengine\/create-your-first-2d-game-project."},"EL-2-3-scene.swift":{"type":"file","syntax":"swift","identifier":"EL-2-3-scene.swift","content":["import AdaEngine","","class EventListenerScene: Scene {","    ","    var disposeBag: Set<AnyCancellable> = []","    ","    override func sceneDidMove(to view: SceneView) {","        self.subscribe(to: SceneEvents.OnReady.self) { event in","            \/\/ Handle event here!","        }","        .store(in: &self.disposeBag)","    }","}"],"fileName":"EventListenerScene.swift","highlights":[],"fileType":"swift"},"doc://AdaEngine/tutorials/AdaEngine/CreateFirst2DScene#Create-an-app":{"url":"\/tutorials\/adaengine\/createfirst2dscene#Create-an-app","abstract":[{"type":"text","text":"In this tutorial you can learn how to create your first 2D scene using AdaEngine"}],"type":"section","role":"pseudoSymbol","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Create-an-app","kind":"section","title":"Create an app"},"EL-2-5-physics.swift":{"type":"file","syntax":"swift","identifier":"EL-2-5-physics.swift","fileName":"PhysicsHandler.swift","content":["import AdaEngine","","class EventListenerScene: Scene {","    ","    var disposeBag: Set<AnyCancellable> = []","    ","    override func sceneDidMove(to view: SceneView) {","        self.subscribe(to: SceneEvents.OnReady.self) { event in","            event.scene.physicsWorld2D?.gravity = .zero","        }","        .store(in: &self.disposeBag)","    }","}"],"highlights":[],"fileType":"swift"},"doc://AdaEngine/tutorials/AdaEngine/CreateFirst2DScene#Create-a-main-camera":{"url":"\/tutorials\/adaengine\/createfirst2dscene#Create-a-main-camera","abstract":[{"type":"text","text":"In this tutorial you can learn how to create your first 2D scene using AdaEngine"}],"type":"section","role":"pseudoSymbol","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Create-a-main-camera","kind":"section","title":"Create a main camera."},"doc://AdaEngine/tutorials/AdaEngine/PlayerAndText#Add-Player-component":{"identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/PlayerAndText#Add-Player-component","role":"pseudoSymbol","kind":"section","abstract":[{"type":"text","text":"In this tutorial, you will learn how to add a player component that you can control and how to add text and various labels to your game scene."}],"type":"section","title":"Add Player component","url":"\/tutorials\/adaengine\/playerandtext#Add-Player-component"},"EL-2-2-scene.swift":{"syntax":"swift","content":["import AdaEngine","","class EventListenerScene: Scene {","    ","    var disposeBag: Set<AnyCancellable> = []","    ","    override func sceneDidMove(to view: SceneView) {","        ","    }","}"],"identifier":"EL-2-2-scene.swift","fileName":"EventListenerScene.swift","fileType":"swift","highlights":[{"line":4},{"line":5},{"line":6}],"type":"file"},"doc://AdaEngine/tutorials/AdaEngine/CreateFirst2DScene#First-sprite":{"identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#First-sprite","role":"pseudoSymbol","kind":"section","title":"First sprite","url":"\/tutorials\/adaengine\/createfirst2dscene#First-sprite","abstract":[{"type":"text","text":"In this tutorial you can learn how to create your first 2D scene using AdaEngine"}],"type":"section"},"doc://AdaEngine/tutorials/AdaEngine/EventListeners#Type-of-events":{"url":"\/tutorials\/adaengine\/eventlisteners#Type-of-events","abstract":[{"type":"text","text":"In this tutorial you will learn about the event listeners system in Ada Engine."},{"type":"text","text":" "},{"text":"How can you catch events and process them","type":"text"}],"type":"section","role":"pseudoSymbol","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Type-of-events","kind":"section","title":"Type of events"},"doc://AdaEngine/tutorials/AdaEngine/EventListeners#Additional-for-physics":{"identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Additional-for-physics","role":"pseudoSymbol","kind":"section","title":"Additional for physics","url":"\/tutorials\/adaengine\/eventlisteners#Additional-for-physics","abstract":[{"text":"In this tutorial you will learn about the event listeners system in Ada Engine.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"How can you catch events and process them"}],"type":"section"},"doc://AdaEngine/tutorials/AdaEngine/CreateFirst2DScene":{"url":"\/tutorials\/adaengine\/createfirst2dscene","type":"topic","title":"Create your first 2D scene","role":"project","estimatedTime":"20min","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene","kind":"project","abstract":[{"type":"text","text":"In this tutorial you can learn how to create your first 2D scene using AdaEngine"}]}}}