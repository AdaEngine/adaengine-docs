{"schemaVersion":{"patch":0,"minor":3,"major":0},"hierarchy":{"paths":[["doc:\/\/AdaEngine\/tutorials\/AdaEngine","doc:\/\/AdaEngine\/tutorials\/AdaEngine\/$volume","doc:\/\/AdaEngine\/tutorials\/AdaEngine\/Create-your-first-2D-game-project."]],"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine","modules":[{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/Create-your-first-2D-game-project.","projects":[{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateProject","sections":[{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateProject#Create-project-using-Xcode","kind":"task"}]},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene","sections":[{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Intro","kind":"task"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Create-an-app","kind":"task"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Create-a-main-camera","kind":"task"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#First-sprite","kind":"task"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Make-it-move","kind":"task"}]},{"sections":[{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/PlayerAndText#Add-Player-component","kind":"task"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/PlayerAndText#Add-Text-component","kind":"task"}],"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/PlayerAndText"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners","sections":[{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Base-of-Event-Subscriber-pattern","kind":"task"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Subscribe-to-scene-events","kind":"task"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Type-of-events","kind":"task"},{"reference":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Additional-for-physics","kind":"task"}]}]}]},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/tutorials\/adaengine\/eventlisteners"]}],"metadata":{"category":"Ada Engine","categoryPathComponent":"AdaEngine","title":"Event Listeners in Ada Engine","role":"project"},"sections":[{"chapter":"Create your first 2D game project.","estimatedTimeInMinutes":5,"content":[{"inlineContent":[{"text":"In this tutorial you will learn about the event listeners system in Ada Engine.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"How can you catch events and process them"}],"type":"paragraph"}],"kind":"hero","title":"Event Listeners in Ada Engine"},{"tasks":[{"contentSection":[{"media":"EL-1.jpg","content":[{"inlineContent":[{"text":"Event listeners in Ada Engine are built on the Observer pattern.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"Its main concept is based on the fact that there is a certain Subject that can send any events."},{"text":" ","type":"text"},{"text":"And there is an Observer that can receive and process this event.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"In addition, Observer “subscribes” to events, as if you had subscribed to your favorite blog or magazine - as soon as an event occurs, Observer immediately knows about it."}],"type":"paragraph"}],"kind":"contentAndMedia","mediaPosition":"trailing"}],"stepsSection":[],"anchor":"Base-of-Event-Subscriber-pattern","title":"Base of Event-Subscriber pattern"},{"stepsSection":[{"type":"step","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Let’s say we have some kind of game scene in which we would like to listen to some events."}]}],"code":"EL-2-1-scene.swift","media":null,"caption":[],"runtimePreview":null},{"media":null,"caption":[],"type":"step","code":"EL-2-2-scene.swift","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"text":"First of all, to control subscription\/unsubscription to events and for proper memory management, we must create a disposeBag.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Now you don’t need to know its detailed structure."}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"After that, in the ","type":"text"},{"type":"codeVoice","code":"Scene\\sceneDidMove(to:)"},{"type":"text","text":" method before the return statement, you can call some code to subscribe to the event."},{"text":" ","type":"text"},{"type":"text","text":"The "},{"code":"Scene\\subscribe","type":"codeVoice"},{"text":" method helps with this.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"When an event is triggered, our listener subscribes to it and in the callback we can process our event"}]}],"caption":[],"media":null,"type":"step","code":"EL-2-3-scene.swift","runtimePreview":null}],"title":"Subscribe to scene events","contentSection":[{"kind":"contentAndMedia","mediaPosition":"trailing","content":[{"inlineContent":[{"text":"Having understood how the Observer pattern works, let’s look at how to subscribe to scene events.","type":"text"}],"type":"paragraph"}]}],"anchor":"Subscribe-to-scene-events"},{"title":"Type of events","anchor":"Type-of-events","stepsSection":[{"media":null,"type":"step","code":"EL-2-3-scene.swift","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"In the previous section, we saw the SceneEvents.OnReady event."},{"type":"text","text":" "},{"type":"text","text":"AdaEngine has several available events that you can handle."},{"type":"text","text":" "},{"type":"text","text":"For example, you can find out what state your current game scene is in."},{"type":"text","text":" "},{"text":"You can add your own additional logic when any built-in event occurs.","type":"text"}]}],"runtimePreview":null,"caption":[]},{"type":"step","media":null,"content":[{"inlineContent":[{"text":"Here, as an example, are some built-in events that may be useful to you.","type":"text"},{"type":"text","text":" "},{"text":"Familiar scene events and new collision events","type":"text"}],"type":"paragraph"}],"code":"EL-2-4-events.swift","runtimePreview":null,"caption":[]}],"contentSection":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"What events can we use? Let’s look at a couple of code examples in AdaEngine."}]}],"mediaPosition":"trailing","kind":"contentAndMedia"}]},{"title":"Additional for physics","stepsSection":[{"media":null,"code":"EL-2-5-physics.swift","runtimePreview":null,"content":[{"type":"paragraph","inlineContent":[{"text":"Let’s continue with the example we looked at earlier.","type":"text"},{"type":"text","text":" "},{"text":"We can access our event and assign the necessary parameters to the properties of the physical component","type":"text"}]}],"type":"step","caption":[]}],"contentSection":[{"kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"text":"Additional information for handling physics in a game engine.","type":"text"},{"type":"text","text":" "},{"text":"By default, our Scene object has a physicsWorld2D component.","type":"text"},{"type":"text","text":" "},{"type":"text","text":"With it you can control the physics settings for any objects in our game."},{"type":"text","text":" "},{"type":"text","text":"For example, you can set the gravity to zero for the scene creation event"}]}],"mediaPosition":"trailing"}],"anchor":"Additional-for-physics"}],"kind":"tasks"}],"kind":"project","references":{"doc://AdaEngine/tutorials/AdaEngine/CreateProject#Create-project-using-Xcode":{"url":"\/tutorials\/adaengine\/createproject#Create-project-using-Xcode","type":"section","kind":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"In this tutorial you learn how to create your first AdaEngine project."}],"identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateProject#Create-project-using-Xcode","title":"Create project using Xcode."},"EL-2-2-scene.swift":{"identifier":"EL-2-2-scene.swift","syntax":"swift","type":"file","fileType":"swift","highlights":[{"line":4},{"line":5},{"line":6}],"content":["import AdaEngine","","class EventListenerScene: Scene {","    ","    var disposeBag: Set<AnyCancellable> = []","    ","    override func sceneDidMove(to view: SceneView) {","        ","    }","}"],"fileName":"EventListenerScene.swift"},"doc://AdaEngine/tutorials/AdaEngine/PlayerAndText":{"url":"\/tutorials\/adaengine\/playerandtext","abstract":[{"text":"In this tutorial, you will learn how to add a player component that you can control and how to add text and various labels to your game scene.","type":"text"}],"role":"project","title":"Player and Text in Ada Engine","kind":"project","estimatedTime":"5min","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/PlayerAndText","type":"topic"},"doc://AdaEngine/tutorials/AdaEngine/EventListeners#Base-of-Event-Subscriber-pattern":{"kind":"section","url":"\/tutorials\/adaengine\/eventlisteners#Base-of-Event-Subscriber-pattern","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Base-of-Event-Subscriber-pattern","abstract":[{"type":"text","text":"In this tutorial you will learn about the event listeners system in Ada Engine."},{"type":"text","text":" "},{"text":"How can you catch events and process them","type":"text"}],"title":"Base of Event-Subscriber pattern"},"EL-2-4-events.swift":{"content":["\/\/\/ Events the scene triggers.","public enum SceneEvents {","    ","    \/\/\/ An event triggered once when scene is ready to use and will starts update soon.","    public struct OnReady: Event {","        public let scene: Scene","    }","    ","    \/\/\/ Raised after an entity is added to the scene.","    public struct DidAddEntity: Event {","        public let entity: Entity","    }","    ","    \/\/\/ Raised before an entity is removed from the scene.","    public struct WillRemoveEntity: Event {","        public let entity: Entity","    }","","    \/\/\/ An event triggered once per frame interval that you can use to execute custom logic for each frame.","    public struct Update: Event {","","        \/\/\/ The updated scene.","        public let scene: Scene","","        \/\/\/ The elapsed time since the last update.","        public let deltaTime: TimeInterval","    }","}","","\/\/\/ Events associated with collisions.","public enum CollisionEvents {","    ","    \/\/\/ An event raised when two objects collide.","    public struct Began: Event {","        ","        \/\/\/ The first entity involved in the collision.","        public let entityA: Entity","        ","        \/\/\/ The second entity involved in the collision.","        public let entityB: Entity","        ","        \/\/\/ The estimated strength of the impact.","        public let impulse: Float","    }","    ","    \/\/\/ An event raised when two objects, previously in contact, separate.","    public struct Ended: Event {","        ","        \/\/\/ The first entity involved in the collision.","        public let entityA: Entity","        ","        \/\/\/ The second entity involved in the collision.","        public let entityB: Entity","    }","}"],"identifier":"EL-2-4-events.swift","highlights":[],"fileType":"swift","type":"file","syntax":"swift","fileName":"Events.swift"},"doc://AdaEngine/tutorials/AdaEngine/CreateFirst2DScene#Intro":{"kind":"section","url":"\/tutorials\/adaengine\/createfirst2dscene#Intro","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Intro","role":"pseudoSymbol","title":"Intro","type":"section","abstract":[{"type":"text","text":"In this tutorial you can learn how to create your first 2D scene using AdaEngine"}]},"doc://AdaEngine/tutorials/AdaEngine/EventListeners#Additional-for-physics":{"kind":"section","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Additional-for-physics","abstract":[{"type":"text","text":"In this tutorial you will learn about the event listeners system in Ada Engine."},{"type":"text","text":" "},{"text":"How can you catch events and process them","type":"text"}],"title":"Additional for physics","role":"pseudoSymbol","url":"\/tutorials\/adaengine\/eventlisteners#Additional-for-physics","type":"section"},"doc://AdaEngine/tutorials/AdaEngine/EventListeners#Subscribe-to-scene-events":{"identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Subscribe-to-scene-events","kind":"section","abstract":[{"type":"text","text":"In this tutorial you will learn about the event listeners system in Ada Engine."},{"type":"text","text":" "},{"text":"How can you catch events and process them","type":"text"}],"title":"Subscribe to scene events","role":"pseudoSymbol","url":"\/tutorials\/adaengine\/eventlisteners#Subscribe-to-scene-events","type":"section"},"doc://AdaEngine/tutorials/AdaEngine/CreateFirst2DScene":{"estimatedTime":"20min","kind":"project","type":"topic","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene","url":"\/tutorials\/adaengine\/createfirst2dscene","title":"Create your first 2D scene","abstract":[{"type":"text","text":"In this tutorial you can learn how to create your first 2D scene using AdaEngine"}],"role":"project"},"doc://AdaEngine/tutorials/AdaEngine/EventListeners":{"estimatedTime":"5min","kind":"project","type":"topic","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners","url":"\/tutorials\/adaengine\/eventlisteners","title":"Event Listeners in Ada Engine","abstract":[{"type":"text","text":"In this tutorial you will learn about the event listeners system in Ada Engine."},{"text":" ","type":"text"},{"text":"How can you catch events and process them","type":"text"}],"role":"project"},"doc://AdaEngine/tutorials/AdaEngine/PlayerAndText#Add-Player-component":{"kind":"section","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/PlayerAndText#Add-Player-component","abstract":[{"type":"text","text":"In this tutorial, you will learn how to add a player component that you can control and how to add text and various labels to your game scene."}],"title":"Add Player component","role":"pseudoSymbol","url":"\/tutorials\/adaengine\/playerandtext#Add-Player-component","type":"section"},"doc://AdaEngine/tutorials/AdaEngine/PlayerAndText#Add-Text-component":{"title":"Add Text component","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"In this tutorial, you will learn how to add a player component that you can control and how to add text and various labels to your game scene."}],"identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/PlayerAndText#Add-Text-component","url":"\/tutorials\/adaengine\/playerandtext#Add-Text-component","kind":"section"},"EL-2-5-physics.swift":{"type":"file","fileType":"swift","highlights":[],"identifier":"EL-2-5-physics.swift","content":["import AdaEngine","","class EventListenerScene: Scene {","    ","    var disposeBag: Set<AnyCancellable> = []","    ","    override func sceneDidMove(to view: SceneView) {","        self.subscribe(to: SceneEvents.OnReady.self) { event in","            event.scene.physicsWorld2D?.gravity = .zero","        }","        .store(in: &self.disposeBag)","    }","}"],"fileName":"PhysicsHandler.swift","syntax":"swift"},"doc://AdaEngine/tutorials/AdaEngine/CreateFirst2DScene#Create-a-main-camera":{"title":"Create a main camera.","type":"section","role":"pseudoSymbol","abstract":[{"type":"text","text":"In this tutorial you can learn how to create your first 2D scene using AdaEngine"}],"identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Create-a-main-camera","url":"\/tutorials\/adaengine\/createfirst2dscene#Create-a-main-camera","kind":"section"},"EL-1.jpg":{"identifier":"EL-1.jpg","variants":[{"url":"\/images\/EL-1.jpg","traits":["1x","light"]}],"type":"image","alt":"Observer pattern scheme"},"doc://AdaEngine/tutorials/AdaEngine/EventListeners#Type-of-events":{"kind":"section","url":"\/tutorials\/adaengine\/eventlisteners#Type-of-events","type":"section","role":"pseudoSymbol","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/EventListeners#Type-of-events","abstract":[{"type":"text","text":"In this tutorial you will learn about the event listeners system in Ada Engine."},{"type":"text","text":" "},{"text":"How can you catch events and process them","type":"text"}],"title":"Type of events"},"EL-2-1-scene.swift":{"type":"file","fileType":"swift","content":["import AdaEngine","","class EventListenerScene: Scene {","    override func sceneDidMove(to view: SceneView) {","        ","    }","}",""],"identifier":"EL-2-1-scene.swift","fileName":"EventListenerScene.swift","highlights":[],"syntax":"swift"},"doc://AdaEngine/tutorials/AdaEngine/CreateFirst2DScene#Create-an-app":{"identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Create-an-app","kind":"section","abstract":[{"type":"text","text":"In this tutorial you can learn how to create your first 2D scene using AdaEngine"}],"title":"Create an app","role":"pseudoSymbol","url":"\/tutorials\/adaengine\/createfirst2dscene#Create-an-app","type":"section"},"doc://AdaEngine/tutorials/AdaEngine/Create-your-first-2D-game-project.":{"kind":"article","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/Create-your-first-2D-game-project.","abstract":[],"title":"Create your first 2D game project.","role":"article","url":"\/tutorials\/adaengine\/create-your-first-2d-game-project.","type":"topic"},"doc://AdaEngine/tutorials/AdaEngine/CreateFirst2DScene#Make-it-move":{"type":"section","url":"\/tutorials\/adaengine\/createfirst2dscene#Make-it-move","abstract":[{"type":"text","text":"In this tutorial you can learn how to create your first 2D scene using AdaEngine"}],"kind":"section","role":"pseudoSymbol","title":"Make it move","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#Make-it-move"},"doc://AdaEngine/tutorials/AdaEngine/CreateFirst2DScene#First-sprite":{"type":"section","url":"\/tutorials\/adaengine\/createfirst2dscene#First-sprite","abstract":[{"type":"text","text":"In this tutorial you can learn how to create your first 2D scene using AdaEngine"}],"kind":"section","role":"pseudoSymbol","title":"First sprite","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateFirst2DScene#First-sprite"},"doc://AdaEngine/tutorials/AdaEngine":{"kind":"overview","url":"\/tutorials\/adaengine","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine","type":"topic","title":"Meet AdaEngine","abstract":[{"text":"Learn the basics of AdaEngine and starts to develop your own games!","type":"text"}],"role":"overview"},"doc://AdaEngine/tutorials/AdaEngine/CreateProject":{"url":"\/tutorials\/adaengine\/createproject","abstract":[{"text":"In this tutorial you learn how to create your first AdaEngine project.","type":"text"}],"role":"project","title":"Create your first game project","kind":"project","estimatedTime":"5min","identifier":"doc:\/\/AdaEngine\/tutorials\/AdaEngine\/CreateProject","type":"topic"},"EL-2-3-scene.swift":{"highlights":[],"syntax":"swift","fileName":"EventListenerScene.swift","identifier":"EL-2-3-scene.swift","type":"file","fileType":"swift","content":["import AdaEngine","","class EventListenerScene: Scene {","    ","    var disposeBag: Set<AnyCancellable> = []","    ","    override func sceneDidMove(to view: SceneView) {","        self.subscribe(to: SceneEvents.OnReady.self) { event in","            \/\/ Handle event here!","        }","        .store(in: &self.disposeBag)","    }","}"]}}}